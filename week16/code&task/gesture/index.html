<!--
 * @Author: lh
 * @Date: 2020-07-29 23:33:22
 * @LastEditors: lh
 * @LastEditTime: 2020-07-29 23:33:32
 * @Description: 
 * @email: 3300536651@qq.com
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="my" style="transform: translate(0, 0); width: 100px; height: 100px; background-color: lightblue;"></div>
</body>
<script src="./gesture.js"></script>
<script>
    window.addEventListener('contextmenu', e => e.preventDefault())
    document.addEventListener('selectstart', e => e.preventDefault())
    document.addEventListener('touchmove', e => e.preventDefault(), {
        passive: false
    })

    let x = 0,
        y = 0;
    let my = document.getElementById('my')
    enableGesture(document.body)
    document.body.addEventListener('pan', (event) => {
        const e = event.detail
        my.style.transform = `translate(${x + e.clientX - e.startX}px, ${y + e.clientY - e.startY}px)`
    })

    document.body.addEventListener('panend', (event) => {
        const e = event.detail
        x = x + e.clientX - e.startX
        y = y + e.clientY - e.startY
    })
</script>
</body>

</html>